---
title: 引用機能
editLink: true
---

# 引用機能

引用するには babyrite
がメッセージの閲覧・送信ができるチャンネルでメッセージリンクを送信します.

```md
https://discord.com/channels/123456789012345678/123456789012345678/123456789012345678
```

以下の条件を満たすメッセージは引用できます.

- babyrite 自身がメッセージを閲覧できるチャンネルであること
- メッセージの送信元チャンネルが NSFW (閲覧禁止) に設定されていないこと.
- 埋め込みだけのメッセージではないこと.
- プライベートチャンネルのメッセージの場合,
  引用を展開しようとしているチャンネルに babyrite 及び `@everyone`
  へ閲覧権限を付与していること.

条件を満たせなかったメッセージの場合, babyrite はプレビューを生成せず無視します.

## 引用をスキップする

引用をせず **メッセージリンクだけ** を送信したい場合はメッセージリンクを `<>`
で囲みます.

```md
<https://discord.com/channels/123456789012345678/123456789012345678/123456789012345678>
```

## プレビューで生成できるもの

babyrite がプレビューで生成するものは以下の通りです:

- メッセージの内容
- メッセージの送信者
- メッセージの送信日時
- 添付ファイル (画像, GIF)

> [!WARNING]
>
> - 何らかの理由でそのメッセージの添付ファイルが無効の場合,
>   プレビューには表示されません.
> - プレビューに表示される添付ファイルは実行サーバーに保存されず, Discord の CDN
>   から取得されます.

## サポートされているメッセージリンク

babyrite が現在サポートしているメッセージリンクは以下の通りです:

- `discord.com`
- `canary.discord.com`
- `ptb.discord.com`

これ以外のメッセージリンクは安全上の理由により無視されます.

> [!IMPORTANT]
>
> `discordapp.com` はサポートされていません. 詳細は
> [m1sk9/babyrite#172](https://github.com/m1sk9/babyrite/issues/172)
> を参照してください.

## チャンネルキャッシュ

babyrite はメッセージリンクを引用した際,
メッセージ送信元のチャンネルをキャッシュします.

2回目以降同じチャンネルのメッセージを引用した場合は, Discord API
には問い合わせずキャッシュからチャンネルを取得します.

詳しくは [キャッシュ](./cache.md) を参照してください.
